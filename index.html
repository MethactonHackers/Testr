<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <link rel="stylesheet" type="text/css" href="bootstrap/css/bootstrap.css">
    <link rel="stylesheet" type="text/css" href="cosmo.css">

    <script src="jquery-2.1.3.js"></script>
    <script src="bootstrap/js/bootstrap.js"></script>

    <style>
        html,
        body {
            height: 100%;
        }

        body {
            /*background-color: aliceblue;*/
        }

        #questions {
            text-align: center;
        }

        .question {
            /*border: solid 3px #948cc4;
            border-radius: 8px;
            padding: 10px;*/

            margin: 5px;
            /*text-align: center;
            background-color: #cbe2f7;*/

            width: 80%;
        }

        .question * {
            margin-top: 2px;
            margin-bottom: 2px;
        }

        .left {
            text-align: left;
        }

        .left > * {
            margin-left: initial;
            margin-right: initial;
        }

        .center {
            text-align: center;
        }

        .center > * {
            margin-left: auto;
            margin-right: auto;
        }

        .right {
            text-align: right;
        }

        .full {
            width: 100%;
        }

        .question input {
            width: 100%;
        }

        .answer::before {
            content: "<span class='glyphicon plyphicon-minus'></span>";
        }

        #multi {
            padding-left: 5%;
        }

        #magic {
            /*Rainbows*/
        }

        #easter {
            position: fixed;
            width: 80%;
            left: 50%;
            top: 50%;
            transform: translate(-50%, -50%);
            border: thick solid #999999;
            display: none;
        }
    </style>
    <script>
        var last;

        function changeQuestionType(question) {
            var type = question.querySelector("#type").value;
            last = question;
            if (type === "multi") {
                question.querySelector("#multi").style.display = "initial";
                question.querySelector("#open").style.display = "none";
            }
            if (type === "open") {
                question.querySelector("#open").style.display = "initial";
                question.querySelector("#multi").style.display = "none";
            }
        }

        function scroll() {
            $("html, body").animate({
                scrollTop: $(document).height()
            }, "slow");
        }

        function addAnswer(multi) {
            '<input name="question-answer" type="text" class="form-control"'

            var input = document.createElement("input");
            input.name = "question-answer";
            input.type = "text";
            input.className = "form-control";

            var children = multi.childNodes;

            multi.insertBefore(input, children[children.length - 2]);
            scroll();
        }

        function addQuestion() {
            $("#blank-question").children().clone().insertBefore($(".question-inserter"));
            scroll();
        }

        $(function () {

            $('.question-answer').bind('input', function () {
                var text = $(this).val(); // get the current value of the input field.

                //$(this).parent().children(".add-answer").toggleClass("disabled", text === "");

            });

            $("#questions").prepend($("#blank-question").children().clone());

        });
    </script>
</head>

<body>
    <nav class="navbar navbar-default">
        <div class="container-fluid">

            <!-- Brand and toggle get grouped for better mobile display -->
            <div class="navbar-header">
                <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
                    <span class="sr-only">Toggle navigation</span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </button>
                <a class="navbar-brand" href="#">Testr</a>
            </div>


            <!-- Collect the nav links, forms, and other content for toggling -->
            <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
                <ul class="nav navbar-nav">
                    <li><a href="#">Upload .tstr <span class="sr-only">(current)</span></a>
                    </li>
                    <li><a href="#">About</a>
                    </li>
                    <li><a href="#">Getting Started</a>
                    </li>
                    <li><a href="#" onclick="document.getElementById('easter').style.display = 'initial';">Help</a>
                    </li>
                    <!--<li class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">Dropdown <span class="caret"></span></a>
                        <ul class="dropdown-menu" role="menu">
                            <li><a href="#">Action</a>
                            </li>
                            <li><a href="#">Another action</a>
                            </li>
                            <li><a href="#">Something else here</a>
                            </li>
                            <li class="divider"></li>
                            <li><a href="#">Separated link</a>
                            </li>
                            <li class="divider"></li>
                            <li><a href="#">One more separated link</a>
                            </li>
                        </ul>
                    </li>-->
                </ul>
            </div>

        </div>
    </nav>

    <img id="easter" src="http://i.imgur.com/mLltgiC.png">


    <div id="questions" class="center">


        <button class="question question-inserter btn btn-primary glyphicon glyphicon-plus" onclick="addQuestion(this.parentNode)"></button>

    </div>

    <div id="blank-question" style="display: none;">
        <form class="question well form-horizontal" onsubmit="return false;">
            <fieldset>
                <legend>Question 1</legend>
                <div class="form-group">
                    <label class="control-label">Question Type:</label>
                    <select id="type" name="question-type" class="form-control" onchange="changeQuestionType(this.parentNode.parentNode)">
                        <option value="multi">Multiple Choice</option>
                        <option value="open">Written Response</option>
                    </select>


                    <label class="control-label">Question:</label>
                    <input name="question-text" type="text" class="form-control">

                    <div id="multi">
                        <label class="control-label">Possible Answers:</label>
                        <input name="question-answer" type="text" class="question-answer form-control">
                        <button class="add-answer btn btn-primary glyphicon glyphicon-plus full" onclick="addAnswer(this.parentNode)"></button>

                    </div>
                    <div id="open" style="display: none;">
                    </div>
                </div>
            </fieldset>
        </form>
    </div>

</body>

</html>
